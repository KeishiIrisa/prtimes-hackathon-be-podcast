# IMAGE_URL
asia-northeast1-docker.pkg.dev/article-to-podcast-444709/article-to-podcast-repo/article-to-podcast:0.0.4

# build command
docker build . --platform linux/amd64 --tag asia-northeast1-docker.pkg.dev/article-to-podcast-444709/article-to-podcast-repo/article-to-podcast:0.0.4

# push docker images to artifact registry. Watch out the artifact registry path which ends with "-repo"
docker push asia-northeast1-docker.pkg.dev/article-to-podcast-444709/article-to-podcast-repo/article-to-podcast:0.0.4

# local test
PORT=8080 && docker run -p 9090:${PORT} -e PORT=${PORT} asia-northeast1-docker.pkg.dev/article-to-podcast-444709/article-to-podcast-repo/article-to-podcast:0.0.4

http://localhost:9090/docs

# deploy command, watch out the both service account has service account user
gcloud run deploy article-to-podcast --image asia-northeast1-docker.pkg.dev/article-to-podcast-444709/article-to-podcast-repo/article-to-podcast:0.0.4 --allow-unauthenticated
